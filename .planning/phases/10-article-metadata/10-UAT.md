---
status: complete
phase: 10-article-metadata
source: 10-01-SUMMARY.md, 10-02-SUMMARY.md
started: 2026-02-17T19:30:00Z
updated: 2026-02-17T20:30:00Z
---

## Current Test

[testing complete]

## Tests

### 1. Article Analysis Steps in Pipeline
expected: Submit a URL from the homepage. 3 article-level steps (Article Extraction, Paywall Detection, Metadata Profile) appear after publisher steps and complete with real-time SSE progress.
result: issue
reported: "job says completed but only performed one step — worker had stale code (started before article steps committed), plus publisher skip branch erroneously published skip events for article steps"
severity: blocker
note: Fixed inline — removed erroneous article skip events from publisher skip branch, restarted worker. Re-run completed all 12 steps successfully.

### 2. Structured Data Format Indicators
expected: On the completed job page, the article analysis section shows yes/no indicators for each structured data format found (JSON-LD, OpenGraph, Microdata, Twitter Cards).
result: issue
reported: "fail - missing"
severity: major
note: Fixed inline — added format badges to article_extraction StepCard in Jobs/Show.tsx.

### 3. Paywall Status Display
expected: The completed job page shows a paywall status label for the article (e.g., "No paywall detected", "Paywalled", or "Unknown").
result: pass

### 4. LLM Metadata Summary
expected: The completed job page shows a human-readable summary of what metadata is available on the article, generated by the LLM profiler. May be truncated with a way to see more.
result: pass

### 5. Article Freshness Skip
expected: Submit the same URL again (or reload the job). Article-level steps should be skipped if analyzed within the last 24 hours, showing cached results instead of re-running.
result: pass

### 6. ArticleMetadata in Django Admin
expected: Navigate to Django admin. ArticleMetadata model is listed with entries showing URL, publisher, formats found, paywall status, and profile text.
result: pass

## Summary

total: 6
passed: 4
issues: 2
pending: 0
skipped: 0

## Gaps

- truth: "3 article-level steps complete with SSE progress after publisher steps"
  status: fixed
  reason: "User reported: job says completed but only performed one step — worker stale code + publisher skip branch published article skip events"
  severity: blocker
  test: 1
  root_cause: "1) Worker not restarted after article steps code committed. 2) Publisher skip branch at supervisor.py:102-104 erroneously published skip events for article steps."
  artifacts:
    - path: "scrapegrape/publishers/pipeline/supervisor.py"
      issue: "Lines 102-104 published article skip events inside publisher skip branch"
  missing: []

- truth: "Job page shows yes/no format indicators for JSON-LD, OpenGraph, Microdata, Twitter Cards"
  status: fixed
  reason: "User reported: fail - missing"
  severity: major
  test: 2
  root_cause: "StepCard in Jobs/Show.tsx only showed text summary, no format badges"
  artifacts:
    - path: "scrapegrape/frontend/src/Pages/Jobs/Show.tsx"
      issue: "article_extraction step card missing format badge UI"
  missing: []
